


ARM Macro Assembler    Page 1 


    1 00000000         ; main.s
    2 00000000                 AREA             |.text|, CODE, READONLY, ALIGN=
2
    3 00000000                 EXPORT           Start
    4 00000000         ;;IEEE to TNS conversion
    5 00000000 F000 F804 
                       Start   BL               trans
    6 00000004 A010            ADR              r0, TNS
    7 00000006 6800            LDR              r0, [r0]
    8 00000008 4298            CMP              r0, r3
    9 0000000A E7FE            B                .
   10 0000000C         
   11 0000000C A00D    trans   ADR              r0, IEEE    ; r0 := address of 
                                                            IEEE
   12 0000000E 6801            LDR              r1,[r0]     ; r1 := IEEE word
   13 00000010 F04F 0601 
                       sign    MOV              r6, #0x1
   14 00000014 EA01 0376       AND              r3,r1,r6,ROR #1 ; r3 = sign of 
                                                            the IEEE
   15 00000018 A70C    exp     ADR              r7,expMask  ; r7 = address of E
                                                            xponent mask of IEE
                                                            E
   16 0000001A 683F            LDR              r7,[r7]     ; load the mask in 
                                                            r7
   17 0000001C EA01 0707       AND              r7,r1,r7    ; get the IEEE expo
                                                            nent in r7
   18 00000020 EA4F 57F7       ROR              r7, #23
   19 00000024 F1A7 077F       SUB              r7, r7, #127 ; get unbiased
   20 00000028 F507 7780       ADD              r7, r7, #256 ; convert to TNS b
                                                            ias
   21 0000002C         ;    ROR  r7, #24         ; shift to the correct locatio
                       n for TNS
   22 0000002C 463D            MOV              r5, r7      ; Currently: r3: si
                                                            gn bit, r5: exponen
                                                            t
   23 0000002E A708    fra     ADR              r7, fracMask
   24 00000030 683F            LDR              r7, [r7]    ; r7 = fraction mas
                                                            k
   25 00000032 EA07 0701       AND              r7, r7, r1  ; r7 = unpacked exp
                                                            onent
   26 00000036 EA4F 2407       MOV              r4, r7, LSL #8 ; shift to corre
                                                            ct location
   27 0000003A EA43 0304 
                       comb    ORR              r3, r4
   28 0000003E EA43 0305       ORR              r3, r5
   29 00000042 4770            BX               lr
   30 00000044         
   31 00000044         ;-----------------------------------DATA----------------
                       ----------------------
   32 00000044 41640000 
                       IEEE    DCD              0x41640000  ; IEEE Representati
                                                            on of 14.25(10),416
                                                            40000 (16)
   33 00000048 64000103 
                       TNS     DCD              0x64000103  ; TNS  Representati
                                                            on of 14.25(10),640
                                                            00103(16)
   34 0000004C 7F800000 
                       expMask DCD              0x7F800000  ; mask to get the I



ARM Macro Assembler    Page 2 


                                                            EEE exponent bits
   35 00000050 007FFFFE 
                       fracMask
                               DCD              0x007FFFFE  ; mask to get the I
                                                            EEE fraction bits 
   36 00000054         ; (w/o least sig)
   37 00000054                 ALIGN
   38 00000054                 END
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4 --apcs=interw
ork --depend=.\main.d -o.\main.o -I.\RTE\_SimpleProject -IC:\Keil_v5\ARM\PACK\A
RM\CMSIS\5.4.0\CMSIS\Core\Include -IC:\Keil_v5\ARM\PACK\Keil\TM4C_DFP\1.1.0\Dev
ice\Include\TM4C123 --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION 
SETA 526" --predefine="_RTE_ SETA 1" --predefine="TM4C123GH6PM SETA 1" --list=.
\main.lst main.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 2 in file main.s
   Uses
      None
Comment: .text unused
IEEE 00000044

Symbol: IEEE
   Definitions
      At line 32 in file main.s
   Uses
      At line 11 in file main.s
Comment: IEEE used once
Start 00000000

Symbol: Start
   Definitions
      At line 5 in file main.s
   Uses
      At line 3 in file main.s
Comment: Start used once
TNS 00000048

Symbol: TNS
   Definitions
      At line 33 in file main.s
   Uses
      At line 6 in file main.s
Comment: TNS used once
comb 0000003A

Symbol: comb
   Definitions
      At line 27 in file main.s
   Uses
      None
Comment: comb unused
exp 00000018

Symbol: exp
   Definitions
      At line 15 in file main.s
   Uses
      None
Comment: exp unused
expMask 0000004C

Symbol: expMask
   Definitions
      At line 34 in file main.s
   Uses
      At line 15 in file main.s
Comment: expMask used once
fra 0000002E

Symbol: fra



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

   Definitions
      At line 23 in file main.s
   Uses
      None
Comment: fra unused
fracMask 00000050

Symbol: fracMask
   Definitions
      At line 35 in file main.s
   Uses
      At line 23 in file main.s
Comment: fracMask used once
sign 00000010

Symbol: sign
   Definitions
      At line 13 in file main.s
   Uses
      None
Comment: sign unused
trans 0000000C

Symbol: trans
   Definitions
      At line 11 in file main.s
   Uses
      At line 5 in file main.s
Comment: trans used once
11 symbols
345 symbols in table
